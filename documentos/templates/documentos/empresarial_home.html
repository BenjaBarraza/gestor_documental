{% extends 'documentos/base.html' %}
{% load static %}

{% block content %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<style>
  {% comment %} Puedes copiar el CSS desde el archivo original o incluirlo como archivo estático {% endcomment %}
  /* Incluye aquí solo lo esencial para evitar conflictos con Bootstrap */
  .stat-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 20px;
    padding: 30px;
    color: white;
    position: relative;
    overflow: hidden;
    transition: transform 0.3s ease;
  }
  .stat-card:hover {
    transform: translateY(-5px);
  }
  .stat-title { font-size: 16px; opacity: 0.9; font-weight: 500; }
  .stat-value { font-size: 36px; font-weight: bold; }
  .stat-icon { font-size: 24px; opacity: 0.8; }
  .activity-item {
    background: white;
    border-radius: 10px;
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  }
  .activity-icon {
    width: 50px; height: 50px; border-radius: 50%;
    background: linear-gradient(45deg, #667eea, #764ba2);
    display: flex; align-items: center; justify-content: center;
    color: white; font-size: 20px;
  }
</style>

<div class="container py-5">
  <h1 class="mb-4 fw-bold text-center"><i class="fas fa-building text-primary me-2"></i>Panel Empresarial</h1>

  <!-- Stats Cards -->
  <div class="row row-cols-1 row-cols-md-3 g-4 mb-5">
    <div class="col">
      <div class="stat-card text-center">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="stat-title">Total documentos</span>
          <i class="fas fa-file-alt stat-icon"></i>
        </div>
        <div class="stat-value">{{ stats.total_documentos }}</div>
        <small><i class="fas fa-clock me-1"></i> Últimos 7 días</small>
      </div>
    </div>

    <div class="col">
      <div class="stat-card text-center">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="stat-title">Espacio usado</span>
          <i class="fas fa-hdd stat-icon"></i>
        </div>
        <div class="stat-value">{{ stats.espacio_usado }} MB</div>
        <small><i class="fas fa-chart-line me-1"></i> de 100 GB disponibles</small>
      </div>
    </div>

    <div class="col">
      <div class="stat-card text-center">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <span class="stat-title">Miembros activos</span>
          <i class="fas fa-users stat-icon"></i>
        </div>
        <div class="stat-value">{{ stats.miembros_activos }}</div>
        <small><i class="fas fa-user-check me-1"></i> esta semana</small>
      </div>
    </div>
  </div>

  <!-- Actividad reciente -->
  <h4 class="fw-semibold mb-3"><i class="fas fa-clock text-primary me-2"></i>Actividad reciente</h4>
  <div class="list-group">
    {% for log in actividad %}
      <div class="activity-item mb-3">
        <div class="activity-icon"><i class="fas fa-upload"></i></div>
        <div>
          <div class="fw-bold">{{ log }}</div>
          <div class="text-muted small">Evento registrado</div>
        </div>
      </div>
    {% empty %}
      <div class="alert alert-info">No hay actividad reciente del equipo.</div>
    {% endfor %}
  </div>
</div>
{% endblock %}
